{% block content %}
<div class="predictions">
	<div class="rating-container">
		Based on your ratings:
		<br>
		Overall: {{ predictions.user.overall | floatformat:2 | default:'(None)' }}

		<div style="margin-top: 10px;">
			<table>
				<tr>
					<th></th>
					<th>Avg</th>
					<th>Stdev</th>
				</tr>

				{% for cat_name, cat_items in predictions.user.categories.items %}
					<tr>
						<th colspan="3">{{ cat_name }}</th>
					</tr>
					{% for item in cat_items %}
					<tr>
						<td>{{ item.name }}</td>
						<td>{{ item.rating.avg | floatformat:2 }}</td>
						<td>{{ item.rating.stdev | floatformat:2 }}</td>
					</tr>
					{% endfor %}
				{% endfor %}

			</table>
		</div>
	</div>

	<div class="rating-container">
		Based on all ratings:
		<br>
		Overall prediction: {{ predictions.all.overall | floatformat:2 | default:'(None)' }}

		<div style="margin-top: 10px;">
			<table>
				<tr>
					<th></th>
					<th>Avg</th>
					<th>Stdev</th>
				</tr>

				{% for cat_name, cat_items in predictions.all.categories.items %}
					<tr>
						<th colspan="3">{{ cat_name }}</th>
					</tr>
					{% for item in cat_items %}
					<tr>
						<td>{{ item.name }}</td>
						<td>{{ item.rating.avg | floatformat:2 }}</td>
						<td>{{ item.rating.stdev | floatformat:2 }}</td>
					</tr>
					{% endfor %}
				{% endfor %}

			</table>
		</div>
	</div>
</div>

{% endblock content %}
